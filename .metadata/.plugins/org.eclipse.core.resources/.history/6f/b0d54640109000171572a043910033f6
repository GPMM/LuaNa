require("NCube/NCube")

local doc = Document:create({id="doc", xmlns="http://www.ncl.org.br/NCL3.0/EDTVProfile"}, nil, true)

local rb1 = RegionBase:create({id="rb1", device="rbTv"}, true)

doc:getHead():addRegionBase(rb1)

local rg1 = Region:create{id="rg1", width="100%", height="100%"}

rb1:addRegion(rg1)

doc:getHead():setDescriptorBase(DescriptorBase:create())

local d1 = Descriptor:create{id="d1", region="rg1"}

doc:getHead():getDescriptorBase():addDescriptor(d1)

local p1 = Port:createPort{id="p1", component="m1"}

local m1 = Media:createMedia{id ="m1", src="media/media1.mpg", type="video/mpeg", descriptor="d1"}

document:getBody():addPort(p1)
document:getBody():addMedia(m1)

document:saveNCL("doc.ncl")