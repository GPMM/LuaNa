local NCLElem = require "NCube/NCLElem"

local Port = require "NCube/Port"
local Media = require "NCube/Media"

local Body = Class:createClass(NCLElem)

Body.name = "body"

Body.attributes = { 
  id = nil
}

Body.ports = nil 
Body.medias = nil

Body.childsNames = {"port"}
Body.childsClasses = {["port"] = Port, ["media"] = Media}
Body.childsObjects = {["port"] = Body.ports, ["media"] = Body.medias}

function Body:create(attributes)
   local attributes = attributes or {}  
   local body = Body:new()
   body:setAttributes(attributes)
   body:setChilds()   
   return body
end

function Body:setId(id)
   self.attributes.id = id
end

function Body:getId()
   return self.attributes.id
end

function Body:addPort(port)
    table.insert(self.ports, port)
    self:addChild(port)
end

function Body:getPort(i)
    return self.ports[i]
end

function Body:setRegions(...)
    self.regions = {}
    if(#arg>0)then
      for i, v in ipairs(arg) do
          self.ports[i] =  v
          self.childs[i] =  v
      end
    end
end

function Body:addMedia(media)
    table.insert(self.medias, media)
    self:addChild(media)
end

function Body:getMedia(i)
    return self.medias[i]
end

function Body:setMedias(...)
    self.regions = {}
    if(#arg>0)then
      for i, v in ipairs(arg) do
          self.medias[i] =  v
          self.childs[i] =  v
      end
    end
end

return Body