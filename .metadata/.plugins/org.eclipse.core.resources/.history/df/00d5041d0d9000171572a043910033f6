local Document = require("NCube/Document")
local Head = require "NCube/Head"
local Region = require "NCube/Region"
local RegionBase = require "NCube/RegionBase"
local Descriptor = require "NCube/Descriptor"
local DescriptorBase = require "NCube/DescriptorBase"

local Body = require "NCube/Body"
local Media = require "NCube/Media"
local Port = require "NCube/Port"

local document = Document:createDocument({id="documento", xmlns="http://www.ncl.org.br/NCL3.0/EDTVProfile"}, true)

local rb1 = RegionBase:createRegionBase({id="rb1", device="rbTv"}, true)

document:getHead():addRegionBase(rb1)

local rg1 = Region:createRegion{id="rg1", width="100%", height="100%"}

rb1:addRegion(rg1)

local d1 = Descriptor:createDescriptor{id="d1", region="rg1"}

document:getHead():setDescriptorBase(DescriptorBase:createDescriptorBase())
document:getHead():getDescriptorBase():addDescriptor(dTrailer)

local porta = Port:createPort{id="pTrailer", component="trailer"}

local media = Media:createMedia{id ="trailer", src="media/homem_aranha.mpg", type="video/mpeg", descriptor="dTrailer"}

document:getBody():setChilds(porta, media)

local ncl = document:generateNCL(0)
print(ncl)

--document:saveNCL("teste.ncl")